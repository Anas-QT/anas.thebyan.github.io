import os
import asyncio
from telegram import Bot

async def send_message(message_text):
    bot_token = os.environ.get('BOT_TOKEN')
    chat_id = os.environ.get('CHAT_ID')
    
    bot = Bot(token=bot_token)
    await bot.send_message(chat_id=chat_id, text=message_text)
    print(f"Message sent: {message_text[:50]}...")

if __name__ == "__main__":
    # Get which message to send from environment variable
    message_type = os.environ.get('MESSAGE_TYPE', 'default')
    
    messages = {
        'message1': "[[وَأَن لَّیۡسَ لِلۡإِنسَـٰنِ إِلَّا مَا سَعَىٰ﴿ ٣٩ ﴾ وَأَنَّ سَعۡیَهُۥ سَوۡفَ یُرَىٰ﴿ ٤٠ ﴾ ثُمَّ یُجۡزَىٰهُ ٱلۡجَزَاۤءَ ٱلۡأَوۡفَىٰ﴿ ٤١ ﴾ وَأَنَّ إِلَىٰ رَبِّكَ ٱلۡمُنتَهَىٰ﴿ ٤٢ ﴾]] [سورة النجم]",
        'message2': "‫[[مِن أَجۡلِ ذَ ٰ⁠لِكَ كَتَبۡنَا عَلَىٰ بَنِیۤ إِسۡرَ ٰ⁠ۤءِیلَ أَنَّهُۥ مَن قَتَلَ نَفۡسَۢا بِغَیۡرِ نَفۡسٍ أَوۡ فَسَادࣲ فِی ٱلۡأَرۡضِ فَكَأَنَّمَا قَتَلَ ٱلنَّاسَ جَمِیعࣰا وَمَنۡ أَحۡیَاهَا فَكَأَنَّمَاۤ أَحیَا ٱلنَّاسَ جَمِیعࣰاۚ وَلَقَدۡ جَاۤءَتۡهُمۡ رُسُلُنَا بِٱلۡبَیِّنَـٰتِ ثُمَّ إِنَّ كَثِیرࣰا مِّنۡهُم بَعۡدَ ذَ ٰ⁠لِكَ فِی ٱلۡأَرۡضِ لَمُسۡرِفُونَ﴿ ٣٢ ﴾‬]] [سورة المائدة]",
        'message3': "‫[[أَمَّنۡ هُوَ قَـٰنِتٌ ءَانَاۤءَ ٱلَّیۡلِ سَاجِدࣰا وَقَاۤىِٕمࣰا یَحۡذَرُ ٱلۡـَٔاخِرَةَ وَیَرۡجُوا۟ رَحۡمَةَ رَبِّهِۦۗ قُل هَلۡ یَسۡتَوِی ٱلَّذِینَ یَعۡلَمُونَ وَٱلَّذِینَ لَا یَعۡلَمُونَۗ إِنَّمَا یَتَذَكَّرُ أُو۟لُوا۟ ٱلۡأَلۡبَـٰبِ﴿ ٩ ﴾‬]] [سورة الزمر]",
        'message4': "يقول النبي ﷺ: (المؤمن القوي خير وأحب إلى الله من المؤمن الضعيف، وفي كل خير). رواه مسلم في الصحيح.",
        'message5': "[[وَإِذَا سَأَلَكَ عِبَادِي عَنِّي فَإِنِّي قَرِيبٌ أُجِيبُ دَعْوَةَ الدَّاعِ إِذَا دَعَانِ فَلْيَسْتَجِيبُوا لِي وَلْيُؤْمِنُوا بِي لَعَلَّهُمْ يَرْشُدُونَ]] [سورة البقرة: 186]."
        'message6': "عن زيد بن ثابت رضي الله عنه أنه سمع رسول الله صلى الله عليه وسلم يقول: من كان همه الآخرة، جمع الله شمله، وجعل غناه في قلبه، وأتته الدنيا وهي راغمة، ومن كانت نيته الدنيا، فرق الله عليه ضيعته، وجعل فقره بين عينيه، ولم يأته من الدنيا إلا ما كتب له."
        'message7': "ربِّنا لا تجعل الدنيا أكبر همنا، ولا مبلغ علمنا، ولا إلى النار مصيرنا."
        'message8': "عن عمر بن الخطاب رضي الله عنه عن النبي صلى الله عليه وسلم قال: لو أنكم تتوكلون على الله حق توكله، لرزقكم كما يرزق الطير، تغدو خماصًا، وتروح بطانا."
        'message9': "عن ابن مسعودٍ رضي الله عنه قال: قال رَسُولُ اللَّه ﷺ: (أَلا أُخْبِرُكُمْ بِمَنْ يَحْرُمُ عَلى النَّارِ؟ تَحْرُمُ عَلَى كُلِّ قَرِيبٍ، هَيِّنٍ، ليِّنٍ، سَهْل) رواه الترمذي."
        'message10': "قال رَسُولُ اللَّه ﷺ: (ليس المؤمن بالطعان ولا اللعان ولا الفاحش ولا البذيء). رواه الترمذي والحاكم وصححه الألباني."
        'message11': "يقول النبي ﷺ: (المؤمن القوي خير وأحب إلى الله من المؤمن الضعيف، وفي كل خير). رواه مسلم في الصحيح."
        'message12': "اللهُمَّ لا حَولَ وَلَا قُوَّةَ إلَّا بِك."
        'message13': "ربِّ نوِّر لي بصيرَتي، وحَسِّن لي حِفظِي، وأعنِّي على غضِّ البصر."
        'message14': "ربِّ طهِّر لي قبلي، وحسِّن لي فرجي، واغفر لي ذنبي."
        'message15': "اللهم يا محول الأحوال، حول أحوالنا إلى أحسن حال."
        'message16': "‫[[یَـٰۤأَیُّهَا ٱلَّذِینَ ءَامَنُوا۟ ٱتَّقُوا۟ ٱللَّهَ وَلۡتَنظُرۡ نَفۡسࣱ مَّا قَدَّمَتۡ لِغَدࣲۖ وَٱتَّقُوا۟ ٱللَّهَۚ إِنَّ ٱللَّهَ خَبِیرُۢ بِمَا تَعۡمَلُونَ﴿ ١٨ ﴾‬ ‫وَلَا تَكُونُوا۟ كَٱلَّذِینَ نَسُوا۟ ٱللَّهَ فَأَنسَىٰهُمۡ أَنفُسَهُمۡۚ أُو۟لَـٰۤىِٕكَ هُمُ ٱلۡفَـٰسِقُونَ﴿ ١٩ ﴾‬ ‫لَا یَسۡتَوِیۤ أَصۡحَـٰبُ ٱلنَّارِ وَأَصۡحَـٰبُ ٱلۡجَنَّةِۚ أَصۡحَـٰبُ ٱلۡجَنَّةِ هُمُ ٱلۡفَاۤىِٕزُونَ﴿ ٢٠ ﴾‬]] [سورة الحشر]"
        'message17': "When at an impasse, ask yourself, What do I actually want to do? What actions align with the biggest purpose I have? How do I take control?\nAnswer this question, and you’ll know what to do"

    }
    
    message = messages.get(message_type, "Default reminder message")
    asyncio.run(send_message(message))
